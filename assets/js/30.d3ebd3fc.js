(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{511:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å°ç¨‹åº-å¤šå›¾åˆ—è¡¨-æ€§èƒ½ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç¨‹åº-å¤šå›¾åˆ—è¡¨-æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" å°ç¨‹åº å¤šå›¾åˆ—è¡¨ æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),a("p",[t._v("å†™è¿™ç¯‡æ–‡ç« çš„ç¼˜ç”±: æœ€è¿‘åœ¨å…¬å¸çš„å°ç¨‹åºé¡¹ç›®ä¸­é‡åˆ°äº†é¡µé¢å›¾ç‰‡å…ƒç´ è¿‡å¤šå¯¼è‡´çš„æ€§èƒ½é—®é¢˜. ä»å°ç¨‹åºæä¾›çš„æ€§èƒ½æ£€æµ‹é¢æ¿åˆ†æ, ç¡®å®šæ˜¯å›¾ç‰‡å…ƒç´ å ç”¨äº†è¿‡å¤šå†…å­˜å¯¼è‡´.")]),t._v(" "),a("p",[t._v("å› ä¸ºæœ¬äººä¹‹å‰ä¸»è¦æ˜¯åšæ¡Œé¢ç«¯åº”ç”¨å¼€å‘å’ŒåŸç”Ÿappå¼€å‘, æ²¡æœ‰å¤ªé¡¾åŠè¿‡ç§»åŠ¨ç«¯å›¾ç‰‡çš„å†…å­˜å ç”¨é—®é¢˜. è¿™æ¬¡æ—¢ç„¶é‡åˆ°äº†, ä¹Ÿå°±è¶è¿™ä¸ªæœºä¼šå­¦ä¹ ä¸€ä¸‹å…¶ä¼˜åŒ–çš„æŠ€å·§.")]),t._v(" "),a("h4",{attrs:{id:"ä»€ä¹ˆé€ æˆçš„æ€§èƒ½é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆé€ æˆçš„æ€§èƒ½é—®é¢˜"}},[t._v("#")]),t._v(" ä»€ä¹ˆé€ æˆçš„æ€§èƒ½é—®é¢˜")]),t._v(" "),a("p",[t._v("ç®€å•çš„æ¥è¯´: "),a("strong",[t._v("DOMèŠ‚ç‚¹è¿‡å¤š")]),t._v("  && "),a("strong",[t._v("å›¾ç‰‡èŠ‚ç‚¹è¿‡å¤š")])]),t._v(" "),a("p",[t._v("DOMèŠ‚ç‚¹è¿‡å¤šä¼šé€ æˆæ›´å¤šçš„å†…å­˜å ç”¨. æŒ‰ç…§ç›®å‰çš„å¾®ä¿¡å°ç¨‹åºé™åˆ¶, å†…å­˜å ç”¨500Mä»¥ä¸Šä¼šå‡ºç°å¡é¡¿, ç”šè‡³é—ªé€€.  å¦‚æœåˆ—è¡¨ä¸­èŠ‚ç‚¹æ²¡æœ‰å›¾ç‰‡æ ‡ç­¾, å†…å­˜å ç”¨ç°è±¡è¿˜ä¸ä¼šå¤ªæ˜æ˜¾, åªæ˜¯DOMèŠ‚ç‚¹è¿‡å¤šä¼šé€ æˆé¡µé¢æ¸²æŸ“è€—æ—¶å¢åŠ . ä½†å½“åˆ—è¡¨èŠ‚ç‚¹ä¸­å«æœ‰å›¾ç‰‡æ—¶, å†…å­˜å ç”¨ä¼šè¿…é€Ÿæ”€å‡.")]),t._v(" "),a("h4",{attrs:{id:"å¦‚ä½•è§£å†³è¿™ä¸¤ç‚¹å‘¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è§£å†³è¿™ä¸¤ç‚¹å‘¢"}},[t._v("#")]),t._v(" å¦‚ä½•è§£å†³è¿™ä¸¤ç‚¹å‘¢?")]),t._v(" "),a("p",[t._v("å¯¹äºä¸Šé¢ä¸¤ç‚¹, æˆ‘ä»¬åˆ†åˆ«æœ‰å¯¹åº”çš„ä¼˜åŒ–æ€è·¯")]),t._v(" "),a("h5",{attrs:{id:"_1-domèŠ‚ç‚¹è¿‡å¤š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-domèŠ‚ç‚¹è¿‡å¤š"}},[t._v("#")]),t._v(" "),a("strong",[t._v("1. DOMèŠ‚ç‚¹è¿‡å¤š.")])]),t._v(" "),a("p",[t._v("å¯¹äºæ— é™åŠ è½½çš„é¡µé¢,  åˆ—è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰å¤§é‡çš„å­èŠ‚ç‚¹. å½“åˆ—è¡¨æ•°ç›®å¢åŠ æ—¶, é¡µé¢çš„æ€»èŠ‚ç‚¹æ•°ä¼šæš´å¢. ä»¥å°çº¢ä¹¦çš„å°ç¨‹åºä¸ºä¾‹:")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww2.sinaimg.cn/large/006tNc79gy1g3g0jcm9x9j30u02ltnpd.jpg",alt:"QQ20190527-0"}})]),t._v(" "),a("p",[t._v("ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°, è¯¥é¡µé¢ä¸ºå¾ˆå¤šçš„å¡ç‰‡ç»„æˆçš„åˆ—è¡¨é¡µé¢. å‡è®¾ä¸€ä¸ªå¡ç‰‡çš„DOMå­èŠ‚ç‚¹æ•°ä¸º 30, é‚£ä¹ˆå½“åˆ—è¡¨å…ƒç´ åŠ è½½åˆ°1000æ—¶, é¡µé¢ä¼šæœ‰ "),a("code",[t._v("30 * 1000 = 30,000")]),t._v(" ä¸ªDOMèŠ‚ç‚¹. å°ç¨‹åºæ˜¾ç„¶æ˜¯åƒä¸æ¶ˆçš„ (æ³¨: å¾®ä¿¡å°ç¨‹åºæ¨èæ€»èŠ‚ç‚¹æ•°ä¸è¶…è¿‡: "),a("strong",[t._v("1000")]),t._v(")")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬è¯¥å¦‚ä½•å¤„ç†æ¥å‡å°‘èŠ‚ç‚¹æ•°å‘¢?")]),t._v(" "),a("p",[t._v("æ€è·¯å¾ˆç®€å•: æˆ‘ä»¬å¯ä»¥åªå¯¹ç”¨æˆ·å½“å‰å±å¹•å’Œä¸Šä¸‹ä¸¤å±è¿›è¡ŒçœŸå®å†…å®¹çš„åŠ è½½, å¯¹äºå…¶ä»–ç”¨æˆ·æš‚æ—¶ä¸å¯è§çš„åœ°æ–¹, ç”¨ç©ºç™½çš„èŠ‚ç‚¹è¿›è¡Œå ä½. è¿™æ ·å¤„ç†å, å®é™…æœ‰å†…å®¹çš„å¡ç‰‡æ•°ç›®ä¸è¶…è¿‡5ä¸ª, é¡µé¢çš„æ€»èŠ‚ç‚¹æ•°ä¸º: "),a("code",[t._v("5 * 30 + 995 = 1145")]),t._v(". ç›¸å¯¹äºä¹‹å‰çš„èŠ‚ç‚¹æ•°æœ‰äº†å·¨å¤§çš„æ”¹è¿›.")]),t._v(" "),a("h5",{attrs:{id:"è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç çš„å®ç°"}},[t._v("#")]),t._v(" è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç çš„å®ç°")]),t._v(" "),a("p",[t._v("å†™ä»£ç å‰, è®©æˆ‘ä»¬æ•´ç†ä¸€ä¸‹éœ€è¦çš„æ•°æ®ç»“æ„.")]),t._v(" "),a("p",[t._v("é¦–å…ˆè¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨é¡µé¢, æˆ‘ä»¬éœ€è¦ä¸€ä¸ª Listæ¥ä¿å­˜é¡µé¢æ˜¾ç¤ºçš„æ•°æ®: "),a("code",[t._v("showCards")]),t._v(". "),a("code",[t._v("showCards")]),t._v(" ä¸­åªä¼šä¿å­˜5æ¡çœŸå®æ•°æ®, å…¶ä½™æ•°æ®å±•ç¤ºä»¥ç©ºå¯¹è±¡å¡«å…….")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªä¿å­˜æ‰€æœ‰çœŸå®æ•°æ®çš„List, è¿™æ ·å½“ç”¨æˆ·æ»‘åŠ¨é¡µé¢æ—¶, æˆ‘ä»¬æ‰èƒ½å®æ—¶è·å–éœ€è¦æ˜¾ç¤ºçš„å¡ç‰‡çœŸå®æ•°æ®: "),a("code",[t._v("totalCards")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  showCards"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  totalCards"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å†™é¡µé¢å¸ƒå±€éƒ¨åˆ†:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{showCards}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{index}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("self-define-component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-card-data")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{item}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("self-define-component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("ç®€å•çš„ä»£ç æ¡†æ¶å°±æ˜¯è¿™æ · (è¿™é‡Œçœç•¥äº†å¾ˆå¤šä¸å½±å“ç†è§£æ€è·¯çš„ä»£ç ç»†èŠ‚)")]),t._v(" "),a("p",[a("strong",[t._v("æˆ‘ä»¬å…ˆå®ç°æ²¡æœ‰ä¼˜åŒ–DOMèŠ‚ç‚¹çš„ä»£ç é€»è¾‘")]),t._v(". åœ¨é¡µé¢æ»‘åŠ¨åˆ°æœ€åº•éƒ¨æ—¶, å‘"),a("code",[t._v("showCards")]),t._v(" pushè¿›æ–°çš„å¡ç‰‡, å¹¶é€šè¿‡ "),a("code",[t._v("setData")]),t._v(" æ›´æ–°é¡µé¢. è¿™æ ·å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„ä¸‹æ‹‰æ— é™åŠ è½½çš„åˆ—è¡¨é¡µé¢.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onReachBottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newCards "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchNewCards")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("showCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    showCards"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("showCards\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("strong",[t._v("æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°ä¼˜åŒ–DOMèŠ‚ç‚¹çš„ä»£ç é€»è¾‘.")]),t._v(" æˆ‘ä»¬ä¼šå†ç”¨æˆ·æ»‘åŠ¨é¡µé¢("),a("code",[t._v("onScroll")]),t._v("äº‹ä»¶) æ—¶, å¯¹å½“å‰é¡µé¢æ¯ä¸ª"),a("code",[t._v("card")]),t._v(" çš„ä½ç½®è¿›è¡Œåˆ¤æ–­, å¦‚æœè¯¥ cardåœ¨ç”¨æˆ·å¯è§èŒƒå›´å†…çš„ä¸Šä¸‹ä¸¤å±å†…, åˆ™å±•ç¤ºçœŸå®æ•°æ®, å¦åˆ™å°†å…¶æ›¿æ¢ä¸ºå®½é«˜ä¸åŸå¡ç‰‡ä¸€è‡´çš„ç©ºç™½å ä½èŠ‚ç‚¹.")]),t._v(" "),a("p",[t._v("åœ¨ Page çš„ "),a("code",[t._v("onPageScroll")]),t._v(" å›è°ƒä¸­, æˆ‘ä»¬è¿›è¡Œå›æ”¶å‡½æ•°çš„è°ƒç”¨ (æ³¨æ„è¿™é‡Œå›è°ƒæ—¶è¦è¿›è¡Œ"),a("strong",[t._v("èŠ‚æµ")]),t._v("å¤„ç†, å¦åˆ™é¢‘ç¹è°ƒç”¨ä¼šå¯¼è‡´é¡µé¢é—ªåŠ¨) . è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå›æ”¶é¡µé¢èŠ‚ç‚¹å‡½æ•°çš„ä¸»è¦é€»è¾‘:")]),t._v(" "),a("p",[t._v("å›è°ƒä¸­, æˆ‘ä»¬é¦–å…ˆé€šè¿‡å°ç¨‹åºæä¾›çš„è·å–é¡µé¢å…ƒç´ ä½ç½®çš„api: "),a("code",[t._v("createSelectorQuery().boundingClientRect")]),t._v(" æ¥æ‹¿åˆ°æ¯ä¸ªå¡ç‰‡çš„ä½ç½®ä¿¡æ¯.")]),t._v(" "),a("p",[a("strong",[t._v("æ¥ä¸‹æ¥")]),t._v(", æˆ‘ä»¬é€šè¿‡ä½ç½®ä¿¡æ¯, åˆ¤æ–­æ˜¯å¦å±•ç¤ºcardçš„çœŸå®æ•°æ®. å¯¹äºä¸å±•ç¤ºçœŸå®æ•°æ®çš„card, æˆ‘ä»¬éœ€è¦ä¿å­˜å…¶é«˜åº¦ä¿¡æ¯, ä»¥ä¾¿åœ¨æ¸²æŸ“é¡µé¢æ—¶ä½¿ç”¨é«˜åº¦ä¿¡æ¯å¡«å……é¡µé¢. åŒæ—¶æˆ‘ä»¬ç»™ç©ºcardä¸€ä¸ª type å±æ€§, æ–¹ä¾¿æˆ‘ä»¬åœ¨ wxmlä¸­æ¸²æŸ“æ—¶åˆ¤æ–­å¡ç‰‡ç±»å‹.")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onScrollCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rectList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("calcCardsHeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("recycleCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("calcFeedHeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSelectorQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(".card")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("boundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rectList")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("recycleCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rectList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newShowCards "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("showCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("abs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" pageHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        newShowCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'empty-card'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" rectList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" feed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" totalCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newShowCards"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("feed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      showCards"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" newShowCards\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br")])]),a("p",[t._v("æ¥ä¸‹æ¥, æˆ‘ä»¬è¦å¯¹wxmlå¸ƒå±€æ–‡ä»¶è¿›è¡Œç›¸åº”çš„ä¿®æ”¹:")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{showCards}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{index}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{item.type === 'empty-card'}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("card empty-card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("height: {{item.height}}px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("self-define-component")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{item.type !== 'empty-card'}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    \t\t\t"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-card-data")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{item}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    \t\t\t"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("card read-card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("self-define-component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[t._v("è¿™æ ·, æˆ‘ä»¬å°±è§£å†³äº† DOMèŠ‚ç‚¹æ•°ç›®è¿‡å¤šçš„é—®é¢˜. å¹¶ä¸”æœ€å¤§é™åº¦çš„ä¸å½±å“ç”¨æˆ·çš„ä½“éªŒ. (è™½ç„¶ç”¨æˆ·å¿«é€Ÿä¸Šä¸‹æ»‘åŠ¨æ—¶è¿˜æ˜¯ä¼šçœ‹åˆ°ä¸€äº›ç©ºç™½, ä½†å¤§å¤šæ•°æƒ…å†µç”¨æˆ·ä¸ä¼šéå¸¸å¿«é€Ÿçš„ä¸Šä¸‹æ»‘, è€Œæ˜¯é˜…è¯»å†…å®¹å¹¶æ…¢é€Ÿæ»‘åŠ¨)")]),t._v(" "),a("h5",{attrs:{id:"_2-å›¾ç‰‡èŠ‚ç‚¹è¿‡å¤š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å›¾ç‰‡èŠ‚ç‚¹è¿‡å¤š"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2. å›¾ç‰‡èŠ‚ç‚¹è¿‡å¤š")])]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸Šé¢ä¸€æ­¥çš„ä¼˜åŒ–, æˆ‘ä»¬å…¶å®å·²ç»å¤§å¹…å‡å°‘äº†é¡µé¢åŠ è½½çš„å›¾ç‰‡æ•°ç›®.  ä½†æ˜¯æœ‰äº›æƒ…å†µ, æˆ‘ä»¬çš„åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå¡ç‰‡å¹¶ä¸æ˜¯åªæœ‰ä¸€å¼ å›¾,  æœ‰æ—¶æˆ‘ä»¬çš„å›¾ç‰‡ç»„ä»¶æ˜¯ä¸€ä¸ª "),a("strong",[t._v("swiper")]),t._v(". æˆ‘ä»¬å‡è®¾æ¯ä¸ªswiperå¹³å‡å±•ç¤º10å¼ å›¾ç‰‡, é‚£ä¹ˆæˆ‘ä»¬å±•ç¤º5å¼ cardçš„è¯,"),a("code",[t._v("<Image/>")]),t._v(" èŠ‚ç‚¹å°±æœ‰ "),a("strong",[t._v("50")]),t._v(" ä¸ª. å¯¹äºä¸€äº›ä½ç«¯çš„å®‰å“æœº, è¿™æ ·çš„å¼€é”€ä¾ç„¶ä¼šé€ æˆå¡é¡¿.")]),t._v(" "),a("p",[t._v("é‚£æœ‰ä»€ä¹ˆå¥½çš„ä¼˜åŒ–æ–¹æ¡ˆå‘¢? å‰é¢ä¸€ä¸ªé—®é¢˜, æˆ‘ä»¬çš„ä¼˜åŒ–æ€è·¯æ˜¯åœ¨ç”¨æˆ·çœ‹ä¸è§çš„åœ°æ–¹, å°†èŠ‚ç‚¹ç®€åŒ–å±•ç¤º.")]),t._v(" "),a("p",[t._v("åŒæ ·çš„, å¯¹äºswiperæ§ä»¶, ç”¨æˆ·èƒ½çœ‹åˆ°çš„ä¹Ÿå°±æ˜¯"),a("strong",[t._v("å½“å‰å›¾ç‰‡")]),t._v(" ä»¥åŠ "),a("strong",[t._v("æ»‘åŠ¨å¯è§çš„å·¦å³ä¸¤å¼ å›¾ç‰‡")]),t._v(". å…¶ä½™ä½ç½®çš„å›¾ç‰‡æ˜¯å¯ä»¥ç®€åŒ–å±•ç¤ºçš„. ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°, å…¶å®éœ€è¦ç«‹å³åŠ è½½çš„å›¾ç‰‡åªæœ‰ä¸‰å¼ . (çº¢è‰²çš„æ¡†ä»£è¡¨çš„æ˜¯swiperç»„ä»¶çš„å¯è§†åŒºåŸŸ)")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww3.sinaimg.cn/large/006tNc79gy1g3g4dotg22j31d50u0gou.jpg",alt:"image-20190527195409369"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå˜é‡è®°å½•å½“å‰swiperæ§ä»¶å±•ç¤ºå›¾ç‰‡çš„åæ ‡: "),a("code",[t._v("curIndex")]),t._v(", ç„¶åæˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ wxmlå¸ƒå±€æ–‡ä»¶. ä»£ç é€»è¾‘å¾ˆç®€å•, å°±æ˜¯é€šè¿‡åˆ¤æ–­å½“å‰Image èŠ‚ç‚¹çš„indexå’Œswiperå±•ç¤ºèŠ‚ç‚¹çš„ indexä¹‹é—´è·ç¦», å¤§äº2å°±ä¸æ˜¾ç¤º.")]),t._v(" "),a("p",[t._v("ç»è¿‡è¿™æ ·çš„å¤„ç†å, æˆ‘ä»¬çš„æ¯ä¸ªswiperç»„ä»¶, æœ€å¤šåªä¼šæœ‰ä¸‰ä¸ªå ç”¨å®é™…å†…å­˜çš„ "),a("code",[t._v("<Image/>")]),t._v(" èŠ‚ç‚¹.")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("swiper-item")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{images}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n                   "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{index}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("image")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n                 "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("widthFix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n                 "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{index - curIndex < 2 && index - curIndex > -2 ? item.url : ''}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("swiper-item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å"}},[t._v("#")]),t._v(" æœ€å")]),t._v(" "),a("p",[t._v("ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨è¿™æ¬¡æ€§èƒ½ä¼˜åŒ–ä¸­ç”¨åˆ°çš„ä¸€äº›å°æŠ€å·§, å¸Œæœ›èƒ½ä¸ºä½ å¸¦æ¥ä¸€äº›å¸®åŠ© ğŸ˜ƒ")]),t._v(" "),a("p",[t._v("å¦‚æœä½ å¯¹æˆ‘çš„æ–‡ç« æ„Ÿå…´è¶£, è¿™é‡Œæœ‰æˆ‘çš„ä¸€äº› "),a("strong",[t._v("æ•°æ®å¯è§†åŒ–")]),t._v("ï¼Œ "),a("strong",[t._v("D3.js")]),t._v(" æ–¹é¢çš„æ–‡ç« ï¼Œ æ¬¢è¿ fork && starï¼š")]),t._v(" "),a("p",[t._v("https://github.com/ssthouse/ssthouse-blog")])])}),[],!1,null,null,null);s.default=e.exports}}]);