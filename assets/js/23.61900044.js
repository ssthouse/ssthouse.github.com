(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{504:function(t,a,s){"use strict";s.r(a);var e=s(4),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前端杂谈-attribute-vs-property"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端杂谈-attribute-vs-property"}},[t._v("#")]),t._v(" 前端杂谈: Attribute VS Property")]),t._v(" "),s("h3",{attrs:{id:"第一个问题-什么是-attribute-什么是-property"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一个问题-什么是-attribute-什么是-property"}},[t._v("#")]),t._v(" 第一个问题: 什么是 attribute & 什么是 property ?")]),t._v(" "),s("p",[s("strong",[t._v("attribute")]),t._v(" 是我们在 "),s("strong",[t._v("html")]),t._v(" 代码中经常看到的键值对, 例如:")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("the-input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Name:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("上面代码中的 input 节点有三个 attribute:")]),t._v(" "),s("ul",[s("li",[t._v("id : the-input")]),t._v(" "),s("li",[t._v("type : text")]),t._v(" "),s("li",[t._v("value : Name:")])]),t._v(" "),s("p",[s("strong",[t._v("property")]),t._v(" 是 attribute 对应的 DOM 节点的 对象属性 (Object field), 例如:")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("HTMLInputElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'the-input'")]),t._v("\nHTMLInputElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),t._v("\nHTMLInputElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Name:'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"第二个问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二个问题"}},[t._v("#")]),t._v(" 第二个问题:")]),t._v(" "),s("p",[t._v("从上面的例子来看, 似乎 attribute 和 property 是相同的, 那么他们有什么区别呢?")]),t._v(" "),s("p",[t._v("让我们来看另一段代码:")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("the-input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("typo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Name:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(' // 在页面加载后,\n我们在这个input中输入 "Jack"\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("注意这段代码中的 type 属性, 我们给的值是 "),s("strong",[t._v("typo")]),t._v(", 这并不属于 input 支持的 type 种类.")]),t._v(" "),s("p",[t._v("让我们来看看上面这个 input 节点的 attribute 和 property:")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// attribute still remains the original value")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the-input")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// typo")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Name:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// property is a different story")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the-input")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  text")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Jack")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("可以看到, 在 attribute 中, 值仍然是 html 代码中的值. 而在 property 中, type 被自动修正为了 "),s("strong",[t._v("text")]),t._v(", 而 value 随着用户改变 input 的输入, 也变更为了 "),s("strong",[t._v("Jack")])]),t._v(" "),s("p",[t._v("这就是 attribute 和 Property 间的区别:")]),t._v(" "),s("p",[t._v("attribute 会始终保持 html 代码中的初始值, 而 Property 是有可能变化的.")]),t._v(" "),s("p",[t._v("其实, 我们从这两个单词的名称也能看出些端倪:")]),t._v(" "),s("p",[s("strong",[t._v("attribute")]),t._v(" 从语义上, 更倾向于不可变更的")]),t._v(" "),s("p",[t._v("而 "),s("strong",[t._v("property")]),t._v(" 从语义上更倾向于在其生命周期中是可变的")]),t._v(" "),s("h2",{attrs:{id:"attribute-or-property-可以自定义吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#attribute-or-property-可以自定义吗"}},[t._v("#")]),t._v(" Attribute or Property 可以自定义吗?")]),t._v(" "),s("p",[t._v("先说结论: "),s("strong",[t._v("attribute 可以")]),t._v(" "),s("strong",[t._v("property 不行")])]),t._v(" "),s("p",[t._v("我们可以尝试在 html 中自定义 attribute:")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("customInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("customeAttr")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("custome attribute value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("然后我们尝试获取自定义的属性:")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customAttr'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// custome attribute value")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customAttr "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("可以看到, 我们能够成功的获取自定义的 attribute, 但是无法获取 property.")]),t._v(" "),s("p",[t._v("其实不难理解, DOM 节点在初始化的时候会将"),s("strong",[t._v("html 规范")]),t._v("中定义的 attribute 赋值到 property 上, 而自定义的 attribute 并不属于这个氛围内, 自然生成的 DOM 节点就没有这个 property.")]),t._v(" "),s("h3",{attrs:{id:"一些补充"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些补充"}},[t._v("#")]),t._v(" 一些补充")]),t._v(" "),s("p",[t._v("需要注意, 有一些特殊的 attribute, 它们对应的 Property 名称会发生改变, 比如:")]),t._v(" "),s("ul",[s("li",[t._v("for (attr) => htmlFor (prop)")]),t._v(" "),s("li",[t._v("class (attr) => className (prop)")])]),t._v(" "),s("p",[t._v("(如果我们追到 DOM 的源码中, 应该是能列出一份清单的: 哪些 attribute 的名称会对应到哪些 Property, 感兴趣不妨试试)")]),t._v(" "),s("p",[t._v("关于 attribute 和 property 两者之间的差别, stackoverflow 上有一些很有意思的讨论:")]),t._v(" "),s("p",[t._v("https://stackoverflow.com/a/6377829/5033286")]),t._v(" "),s("p",[t._v("其中有些人认为 attribute 的值表示的是 defaultValue, 而 DOM 节点的 Property 则是另一回事. 比如: check (attr) 对应的是 defaultChecked (prop), value(attr) 对应的应该是 defaultValue (prop)")]),t._v(" "),s("p",[t._v("关于我们在 attribute 中 value 的限制 (如 input 的 type 有那些有效值), 可以参考这个链接:")]),t._v(" "),s("p",[t._v("https://www.w3.org/TR/html5/infrastructure.html#reflect")]),t._v(" "),s("h2",{attrs:{id:"想了解更多-d3-js-和-数据可视化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想了解更多-d3-js-和-数据可视化"}},[t._v("#")]),t._v(" 想了解更多 D3.js 和 数据可视化 ?")]),t._v(" "),s("p",[t._v("这里是我的 "),s("em",[t._v("D3.js")]),t._v(" 、 "),s("em",[t._v("数据可视化")]),t._v(" 的 github 地址, 欢迎 star & fork 🎉")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/ssthouse/d3-blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("D3-blog"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"如果觉得本文不错的话-不妨点击下面的链接关注一下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果觉得本文不错的话-不妨点击下面的链接关注一下"}},[t._v("#")]),t._v(" 如果觉得本文不错的话, 不妨点击下面的链接关注一下 : )")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/ssthouse",target:"_blank",rel:"noopener noreferrer"}},[t._v("github 主页"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/c_196857379",target:"_blank",rel:"noopener noreferrer"}},[t._v("知乎专栏"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/user/57bc46c8efa631005a891573/posts",target:"_blank",rel:"noopener noreferrer"}},[t._v("掘金"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"想直接联系我"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#想直接联系我"}},[t._v("#")]),t._v(" 想直接联系我 ?")]),t._v(" "),s("p",[t._v("邮箱: ssthouse@163.com")]),t._v(" "),s("p",[t._v("微信:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://github.com/ssthouse/d3-blog/raw/master/img/QR_300px.png",alt:"wechat"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);